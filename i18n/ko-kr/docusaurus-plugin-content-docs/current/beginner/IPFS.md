---
title: IPFS란 무엇인가?
hide_table_of_contents: true
---

IPFS는 Interplanetary File System의 약자로, 분산형 파일 시스템을 의미합니다. 파일을 저장하고 시간 경과에 따라 버전을 추적할 수 있는 버전 관리 파일 시스템이 핵심이며, Git와 매우 유사합니다. 또한 파일이 네트워크를 통해 이동하는 방식을 정의하여 BitTorrent와 마찬가지로 분산 파일 시스템으로 만듭니다. IPFS는 이러한 두 속성을 결합하여 새로운 영구적인 웹의 구현을 가능하게 하고 HTTP와 같은 기존 인터넷 프로토콜을 사용하는 방식을 강화했습니다.

간단히 말해서, 인터넷은 데이터가 네트워크를 통해 이동하는 방식을 설명하는 프로토콜 모음입니다. 개발자들은 시간이 지남에 따라 이러한 프로토콜을 채택하고 해당 인프라 위에 응용 프로그램을 구축했습니다. 웹의 Backbone 역할을 하는 프로토콜 중 하나는 HTTP(HyperText Transfer Protocol)인데, 이는 1991년 팀 버너스 리(Tim Berners-Lee)에 의해 발명되었습니다.

HTTP는 요청-응답 프로토콜입니다. 일례로 웹 브라우저가 클라이언트로서 외부 서버에 요청을 보내면 서버는 응답 메시지(예: 구글 홈페이지)를 클라이언트에게 다시 반환합니다. 이는 위치 기반 프로토콜인데, google.com을 브라우저에 입력하면 해당 입력값이 일부 Google 서버의 IP 주소로 변환되고 해당 서버로부터 요청-응답 사이클이 시작됩니다.

### HTTP의 문제

강의실에 앉아 있는데 교수님이 특정 웹사이트로 가라고 한다고 가정해봅시다. 강의에 참여한 모든 학생은 해당 웹사이트에 요청을 보내고 응답을 받습니다. 이는 동일한 정확한 데이터가 강의실의 모든 학생에게 각각 개별적으로 전송되었음을 의미합니다. 학생이 100명이라면 100개의 요청과 100개의 응답이 존재합니다. 이는 분명히 작업을 수행하는 가장 효율적인 방법이 아닙니다. 이상적으로, 학생들은 그들이 필요로 하는 정보를 더욱 효율적으로 검색하기 위해 물리적 근접성을 이용할 수 있을 것입니다.


HTTP는 네트워크 통신 라인에 문제가 발생하거나 클라이언트가 서버에 연결할 수 없는 경우에도 큰 문제를 나타냅니다. 이는 ISP가 중단되거나, 국가가 일부 콘텐츠를 차단하거나, 콘텐츠가 단순히 삭제 또는 이동된 경우 발생할 수 있습니다. 이러한 유형의 끊어진 링크는 HTTP 웹 어디에나 존재합니다.

HTTP의 위치 기반 주소 지정 모델은 중앙 집중화를 조장합니다. 모든 데이터를 가진 소수의 응용 프로그램을 신뢰하는 것은 편리하지만, 이로 인해 웹상의 많은 데이터가 사일로화 됩니다. 이러한 서비스 제공자는 정보에 대한 막중한 책임과 권한을 가지게 됩니다.

### IPFS의 작동 방식

IPFS는 영구적이고 분산된 웹의 구현을 추구합니다. HTTP의 위치 기반 시스템 대신 콘텐츠 주소 지정 시스템을 사용하여 이를 수행합니다. 

HTTP 요청은 `http://10.20.30.40/folder/file.txt` 처럼 나타나는데,

반해 IPFS 요청은 `/ipfs/QmT5NvUtoM5n/folder/file.txt` 처럼 나타날 것입니다.

IPFS는 위치 주소를 사용하는 대신 콘텐츠 자체의 표현을 사용하여 주소를 지정합니다. 이 작업은 파일에 대한 암호화 해시를 사용하여 수행되고, 주소로 이용됩니다. 해시는 루트 객체를 나타내며 그 경로에서 다른 객체를 찾을 수 있습니다. 서버와 대화하는 대신 데이터의 "시작점"에 액세스할 수 있습니다. 시스템은 이 방법으로 물리적 근접성을 활용합니다. 만약 아주 가까운 누군가가 원하는 것을 가지고 있다면, 중앙서버에 연결하는 대신 그들로부터 직접 얻고자 할 것입니다.

앞서 언급한 강의실의 사례에서, 교실 안 학생들은 모두가 서버와의 자체적인 통신을 확립할 필요 없이 서로로부터 데이터를 가져올 수 있습니다. HTTP를 사용하면 특정 위치에 무엇이 있는지 묻지만, IPFS의 경우 특정 파일이 어디에 있는지 묻습니다. 이를 달성하기 위해 IPFS는 다른 P2P 시스템들의 몇 가지 성공적인 아이디어를 종합할 수 있습니다.

### 분산 해시 테이블

데이터 저장을 위해 IPFS 는 분산 해시 테이블, DHT(Distributed Hash Table)를 사용합니다. 일단 해시를 가지면, 그 해시에 위치한 콘텐츠를 가지고 있는 피어 네트워크에게 물어보고, 원하는 데이터를 가지고 있는 노드에서 직접 콘텐츠를 다운로드 받습니다. 데이터는 BitTorrent와 유사한 메커니즘을 사용하여 네트워크의 노드 간에 전송합니다. IPFS 웹에서 특정 콘텐츠를 찾는 사용자는 해당 콘텐츠에 액세스할 수 있는 이웃을 찾습니다. 그런 다음 이웃들로부터 작은 비트의 콘텐츠를 다운로드받습니다. IPFS는 DHT 및 BitTorrent 프로토콜뿐 아니라 머클 트리(Merkle Tree)를 사용합니다. 이는 Git가 버전 관리 시스템으로 사용하는 것과 비트코인 블록체인에서 사용되는 프로토콜과 유사한 데이터 구조입니다. Git에서는 소스 코드의 버전을 추적하는 데 사용되는 반면, IPFS에서는 웹 전체에서 콘텐츠를 추적하는 데 사용됩니다.

### IPFS와 블록체인

구조의 유사성 덕분에 IPFS와 블록체인의 연동은 수월해집니다. 실제로, IPFS의 발명가인 후안 베넷(Juan Benet)은 이것을 "위대한 결혼(Great marriage)"이라고 부릅니다. IPFS는 베넷이 설립한 Protocol Labs라는 그룹의 일부인 몇 가지 프로젝트 중 하나인데, IPFS와 밀접한 관련이 있는 Protocol Labs의 프로젝트로는 IPLD(Inter-Planetic Linked Data)와 파일코인(Filecoin) 등이 있습니다. IPLD는 블록체인 같은 분산 데이터 구조를 위한 데이터 모델입니다.

이 모델은 IPFS를 통해 블록체인 데이터를 쉽게 저장하고 액세스할 수 있도록 합니다. IPFS 데이터를 저장하고자 하는 사용자는 파일 코인으로 보상을 받게 됩니다. IPLD는 사용자들이 여러 블록체인과 원활하게 상호작용할 수 있도록 하며, 이더리움 및 비트코인과 통합되었습니다.

IPFS는 웹이 모든 웹사이트를 서로 연결하는 방법과 유사한 방식으로 모든 블록체인을 연결합니다. 다른 페이지로 연결되는 링크를 한 페이지에 놓을 수 있는 것과 마찬가지로, 예를 들어 이더리움에 링크를 드롭하여 zcash에 연결하면 IPFS가 모든 것을 해결할 수 있습니다. — 후안 베넷

Protocol Labs의 IPFS 및 기타 프로젝트들은 본질적으로 야심찹니다. 복원력 및 효율성이 뛰어난 영구적인 웹에 대한 아이디어는 의심할 여지 없이 기존 인터넷 프로토콜 발명가들의 목표이기도 했습니다. 그러나 시간이 지남에 따라 웹의 사용 행태가 바뀌면서 이러한 프로토콜들의 약점이 선명해졌습니다. IPFS는 초기 단계임에도 불구하고 새로운 분권형 기술 스택의 중요한 부분이 될 가능성을 보여줍니다.
