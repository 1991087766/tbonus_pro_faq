---
title: 什么是IPFS
hide_table_of_contents: true
---

IPFS 代表星际文件系统。它的核心是一个版本化的文件系统，可以随着时间的推移存储文件和跟踪版本，非常像Git。它还定义了文件如何在网络中移动，使其成为一个分布式文件系统，就像BitTorrent一样。通过结合这两个属性，IPFS 启用了一个新的永久网络，并增强了我们使用现有互联网协议（如 HTTP）的方式。

简而言之，互联网是一组描述数据如何在网络中移动的协议。随着时间的推移，开发人员采用了这些协议，并在此基础架构之上构建了他们的应用程序。作为网络主干的协议之一是 HTTP 或超文本传输​​协议。这是蒂姆·伯纳斯-李在 1991 年发明的。

HTTP 是一种请求-响应协议。客户端（例如 Web 浏览器）向外部服务器发送请求。然后服务器向客户端返回响应消息，例如谷歌主页。这是一个位置寻址协议，这意味着当我在浏览器中输入 google.com 时，它会被转换为某个谷歌服务器的 IP 地址，然后请求-响应周期由该服务器启动。

### HTTP 的问题

假设你坐在一个演讲厅里，教授让你访问一个特定的网站。讲座中的每个学生都向该网站提出请求并得到答复。这意味着相同的确切数据被单独发送给房间中的每个学生。如果有 100 名学生，那就是 100 个请求和 100 个响应。这显然不是最有效的做事方式。理想情况下，学生将能够利用他们的物理距离来更有效地检索他们需要的信息。

如果网络通信线路出现问题并且客户端无法与服务器连接，HTTP 也会出现一个大问题。如果 ISP 中断、某个国家/地区阻止某些内容，或者内容被简单地删除或移动，就会发生这种情况。这些类型的断开链接在 HTTP 网络上随处可见。

HTTP 的基于位置的寻址模型鼓励集中化。将我们所有的数据托付给少数应用程序是很方便的，但正因为如此，网络上的大部分数据都变得孤立了。这使得这些提供商对我们的信息负有巨大的责任和权力。

### IPFS 是如何工作的？

IPFS 寻求创建一个永久的分布式网络。它通过使用内容寻址系统而不是 HTTP 的基于位置的系统来实现这一点。

HTTP 请求看起来像`http://10.20.30.40/folder/file.txt`

IPFS 请求看起来像`/ipfs/QmT5NvUtoM5n/folder/file.txt`

IPFS 不使用位置地址，而是使用内容本身的表示来寻址内容。这是使用文件上的加密哈希完成的，并将其用作地址。散列代表一个根对象，其他对象可以在它的路径中找到。您无需与服务器交谈，而是可以访问数据的这个“起点”。通过这种方式，系统可以利用物理接近度。如果与我非常亲近的人拥有我想要的东西，我会直接从他们那里获取，而不是连接到中央服务器。在前面的讲座示例中，课堂上的学生可以相互提取数据，而无需与服务器建立自己的通信。使用 HTTP，您询问某个位置的内容，而使用 IPFS，您询问某个文件的位置。 为了实现这一点，IPFS 从其他点对点系统中综合了一些成功的想法。

为了存储数据，IPFS 使用分布式哈希表或 DHT。一旦我们有了散列，我们就会询问在该散列中拥有内容的对等网络，然后我们直接从拥有我想要的数据的节点下载内容。数据使用类似于 BitTorrent 的机制在网络中的节点之间传输。在 IPFS 网络上寻找某些内容的用户会找到有权访问该内容的邻居。然后他们从这些邻居那里下载一小部分内容。在 DHT 和 BitTorrent 协议之上，IPFS 使用默克尔树。这是一种类似于 Git 用作版本控制系统和比特币区块链中使用的协议的数据结构。在 Git 中，它用于跟踪源代码的版本，而在 IPFS 中，它用于跟踪整个网络的内容。

### IPFS 和区块链

由于结构相似，IPFS 和区块链可以很好地协同工作。事实上，IPFS 的发明者 Juan Benet 称这是一场“伟大的婚姻”。IPFS 是属于一个名为 Protocol Labs 的小组的少数项目之一，该小组也是由 Benet 创立的。Protocol Labs 的一些与 IPFS 密切相关的项目是 IPLD（行星际关联数据）和 Filecoin。IPLD 是一种用于分布式数据结构（如区块链）的数据模型。该模型允许通过 IPFS 轻松存储和访问区块链数据。愿意存储 IPFS 数据的用户将获得 Filecoin 奖励。IPLD 允许用户与多个区块链无缝交互，并已与以太坊和比特币集成。

> IPFS 以类似于网络将所有这些网站连接在一起的方式连接所有这些不同的区块链。就像你可以在一个页面上放置一个链接到另一个页面的链接一样，你可以在以太坊中放置一个链接 [例如] 链接到 zcash 和 IPFS 可以解决所有这些问题。— 胡安·贝内特

协议实验室的 IPFS 和其他项目本质上是雄心勃勃的。具有弹性和高效性的永久网络的想法无疑也是我们互联网协议的原始发明者的目标。然而，随着我们对网络使用的改变，随着时间的推移，这些协议的弱点变得明显。尽管还处于早期阶段，但 IPFS 显示出有望成为新的去中心化技术堆栈的关键部分。
